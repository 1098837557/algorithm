# 常见的数据结构

- [数组](#Array)
- [数组链表](#Chain)
- [哈希表](#Hash Map)

## Array

计算机中的数组与数学中的数组概念类似，只是计算机中的数组的值可以是多种类型。
一般语言中的数组，指的都是连续线性表，也就是所有元素依次存储在一片连续的存储空间内，但js比较特殊，js中的数据结构就只有一种：哈希表。
哈希表用来描述Object，其他所有的数据结构，都是建立在哈希表上的伪结构。比如数组，其实就是key为index的对象，其底层，也就是哈希表。

> ES6中的typed Array和ArrayBuffer是存储连续内存的数组，与传统意义上的数组一样。

对于传统的数组来说，由于数据保存在连续的内存块中、数组头保存了数组的地址，所以数据的定位是非常方便的。
根据数组地址+元素的偏移量算出指定元素的内存地址，直接移动指针到该处即可进行数据的读写。

但是由于数据存储的空间连续，所以对元素的增删就变得非常麻烦，比如要在第五位插入一个元素，那么第五位后面的所有元素都要向后挪一个数组空间的位置。
实际操作中我们还需要额外的临时空间来保存要移动的元素，然后依次移动各个元素，相当繁琐。

![数组插入动画](resource/Array001.png)

PS：js中常规的数组操作这里不做介绍，仅介绍数据结构原理。

## Chain

因为数组增删非常麻烦，所以链表这种数据结构就被设计出来了。
链表元素的存储空间都是分散的，每个元素除了保存本身的值之外，还保存着其他元素的内存地址，根据地址就可以将整个链表串起来了。



## Hash Map

在真实世界中，我们的数据有很多是线性表类型，但更多的是以属性-值这样的键值对出现的数据，比如个人信息中的name:Jack,age:18。
当我们有这样的很多这样的键值对时，我们怎么才能方便地访问到特定的key呢？
无论是使用数组还是链表，都无法直接存储key-value这样的键值对。
当然，你可以将key-value整体存在数组或者链表的value里面去，那如果要访问到特定的key，只能遍历了。

我们知道，数组的定位是非常简单的，只要指定下标就可以直接移动指针到相应的位置进行数据读写，
那很自然就会想到，有没有办法将key转换成一个数组下标，将所有数据放入数组中，然后通过这个下标来直接访问相应的value呢？
也就是 key >> index >> value, 只要知道index=f(key)这个映射关系，我们就可以将数据存到数组里面然后直接通过array[f(key)]来访问了。
看起来很简单了，前提是我们定义的 f 函数能够将我们的key都分散到不同的下标里面，而f函数这就是所谓的散列函数了。

举个栗子：对于一组key（15,22,33,40,50），如果我们想找到40，那么就要一个一个做对比，遍历到40的时候才知道40的位置在第4位。
假如我设定一个散列算法为index=key/10，那么我们只需要一次计算就能得到index=40/10=4。
实际应用中，我们的key都是长度不定的字符串或者数字，将这些字符串通过一定的规则转换成数字，然后散列到一定范围内，就可以使用数组的定位属性来帮助定位数据了。

因为每个key的value值长度是未知不定的，所以我们不可能把value都放在数组空间里面。
如果数组空间内保存的是另一个数组的地址、或者是链表的头地址，这样就可以适应不同长度的value了。
而整个数据结构，就变成了一个二维表，这就是哈希表。

上面将数组和链表组合成哈希表的方法，叫拉链法。

这样，我们就可以直接用{key:value,key2:value2}的方式来表示一个对象数据了。

但是，由于key是未知的，可以说是无限的，所以任一输入一个key都能输出一个独一无二的index这显然是不可能的。







